---
description: 技术写作规则 - 技术文档写作规范，要求精准、包含上下文、避免过度抽象
alwaysApply: false
priority: medium
globs:
  - "**/*.md"
  - "**/*.mdc"
  - "Docs/**"
---

<!-- 
注意：本文件的实际内容存储在 AI/rules/1_topics/tech.mdc
此文件为 Cursor IDE 的规则入口，内容与 AI/rules/1_topics/tech.mdc 同步
如需修改规则，请编辑 AI/rules/1_topics/tech.mdc，然后同步到此文件
-->

# 技术写作规则

**技术文档写作规范，要求精准、包含上下文、避免过度抽象。**

---

## 1. 精准性原则

### 1.1 避免模糊词汇
- ❌ 错误：使用"可能"、"大概"、"应该"等模糊词汇
- ✅ 正确：使用"必须"、"禁止"、"应该"等明确词汇
- 示例：
  - ❌ "函数可能返回错误码"
  - ✅ "函数必须返回`error_code_t`类型的错误码"

### 1.2 使用准确术语
- 使用项目内统一的术语
- 避免使用不准确的术语
- 技术术语要准确，符合行业标准

---

## 2. 上下文要求

### 2.1 必须包含必要的上下文
- 说明函数的使用场景
- 说明参数的含义和取值范围
- 说明返回值的含义
- 说明可能的错误情况

### 2.2 数据结构说明
- 必须说明数据结构的作用
- 必须说明字段的含义
- 必须提供使用示例

### 2.3 代码示例要求
- 代码示例必须完整可运行
- 必须包含必要的注释
- 必须包含错误处理
- 必须符合项目代码规范

---

## 3. 避免过度抽象

### 3.1 具体化原则
- 避免过度抽象的描述
- 使用具体的示例说明
- 提供具体的代码示例

### 3.2 分层说明
- 从具体到抽象
- 先说明具体用法，再说明抽象概念
- 避免一开始就使用抽象概念

---

## 4. 技术文档结构

### 4.1 标准结构
```markdown
# 模块名称

**简要说明**

---

## 📋 目录说明

## 🎯 职责

## 📝 功能列表

## ⚠️ 重要说明

## 📚 详细文档

## 🔗 相关模块
```

### 4.2 内容要求
- 职责说明要清晰
- 功能列表要完整
- 重要说明要突出
- 相关链接要准确

---

## 5. API文档规范

### 5.1 函数文档
- 必须说明函数的作用
- 必须说明参数的含义和类型
- 必须说明返回值的含义和类型
- 必须说明可能的错误情况
- 必须提供使用示例

### 5.2 示例格式
```c
/**
 * @brief LED开启函数
 * @param led_id LED ID，取值范围：0 ~ LED_COUNT-1
 * @return error_code_t 错误码，ERROR_OK表示成功
 * @note 必须在LED_Init()之后调用
 * @example
 *   error_code_t result = LED_On(LED_1);
 *   if (result != ERROR_OK) {
 *       ErrorHandler_Report(result, __FILE__, __LINE__);
 *   }
 */
error_code_t LED_On(LED_ID_t led_id);
```

---

## 6. 错误处理文档

### 6.1 错误说明
- 必须说明可能的错误情况
- 必须说明错误码的含义
- 必须提供错误处理示例

### 6.2 错误处理示例
```c
error_code_t result = SomeFunction(param);
if (result != ERROR_OK) {
    // 错误处理
    ErrorHandler_Report(result, __FILE__, __LINE__);
    // 根据错误类型采取相应措施
    return result;
}
```

---

## 7. 配置文档规范

### 7.1 配置说明
- 必须说明配置项的作用
- 必须说明配置项的取值范围
- 必须说明配置项的默认值
- 必须提供配置示例

### 7.2 配置示例格式
```c
// 在BSP/board.h中配置
#define LED_CONFIGS { \
    {GPIOA, GPIO_Pin_1, Bit_RESET, 1}, \
    {GPIOA, GPIO_Pin_2, Bit_RESET, 1}, \
}
```

---

## 8. 使用示例规范

### 8.1 示例要求
- 示例必须完整可运行
- 必须包含必要的注释
- 必须包含错误处理
- 必须符合项目代码规范

### 8.2 示例结构
```c
#include "system_init.h"
#include "led.h"

int main(void) {
    // 系统初始化
    System_Init();
    
    // 使用示例
    error_code_t result = LED_On(LED_1);
    if (result != ERROR_OK) {
        ErrorHandler_Report(result, __FILE__, __LINE__);
        return -1;
    }
    
    while(1) {
        // 主循环
    }
}
```

