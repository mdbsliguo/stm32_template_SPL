# BSP (Board Support Package) - 硬件抽象层

硬件抽象层，负责硬件配置隔离和板级初始化，实现硬件与软件的完全解耦。

---

## 📋 目录说明

```
BSP/
├── board.h          # 硬件引脚定义（唯一真理源）
├── board_config.c/h # 板级初始化配置（可选，未来扩展）
└── pin_mux.c/h      # 引脚复用配置（可选，未来扩展）
```

---

## 🎯 职责

1. **硬件引脚定义**：LED、按键、外设映射，引脚编号和端口定义，有效电平定义
2. **时钟配置参数**：时钟管理相关配置，频率档位参数，自适应策略参数
3. **板级初始化函数**（未来扩展）：板级硬件初始化，外设默认配置
4. **硬件相关宏定义**：硬件特性定义，板级特定配置

---

## 📝 功能列表

| 功能 | 说明 | 状态 |
|------|------|------|
| LED配置表 | 硬件引脚定义、有效电平、使能控制 | ✅ 已实现 |
| 时钟管理配置 | 锁定时间、检测周期、负载阈值 | ✅ 已实现 |
| 硬件宏定义 | 硬件特性定义、板级特定配置 | ✅ 已实现 |
| 板级初始化函数 | 板级硬件初始化、外设默认配置 | ⏳ 计划中 |
| 引脚复用配置 | 引脚复用配置管理 | ⏳ 计划中 |

---

## 🎨 设计原则

1. **唯一真理源**：所有硬件相关配置**必须**在 `board.h` 中定义，其他文件通过 `#include "board.h"` 访问
2. **编译时配置**：硬件配置在编译时确定，不依赖运行时初始化（特殊情况除外）
3. **跨型号移植**：更换MCU型号时，只需修改 `BSP/` 目录下的文件，上层代码无需改动
4. **配置表驱动**：使用配置表而非硬编码，便于维护和扩展

---

## ⚠️ 重要说明

1. **不要在其他文件中硬编码硬件配置**
   - ❌ 错误：`GPIO_Config(GPIOA, GPIO_Pin_1, ...)`
   - ✅ 正确：使用配置表 `LED_CONFIGS[0]`

2. **配置表必须包含所有必要信息**
   - 端口、引脚、模式、参数等

3. **保持配置表的一致性**
   - 同一硬件在不同配置表中保持一致

---

## 📚 详细文档

- **配置教程**：[Docs/CONFIG_TUTORIAL.md](../Docs/CONFIG_TUTORIAL.md) - 所有模块的使用配置说明
- **使用示例**：[Examples/](../Examples/) - 演示案例

---

## 🔗 相关模块

- **驱动层**：`Drivers/` - 使用BSP配置的驱动模块（按类型分类：basic/i2c/spi/display/sensors等）
- **系统服务**：`system/` - 使用BSP时钟配置的系统服务

---

**最后更新**：2024-01-01
