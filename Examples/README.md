# Examples - 演示案例

演示案例目录，用于存放各种功能模块的使用示例和参考代码。

**组织方式**：案例按模块功能分类，相同功能的案例放在同一目录下，每个案例独立目录，独立工程。

**命名规范**：
- **分类目录**（xx）：使用英文，首字母大写（如 `I2C`、`LED`、`Delay`）
- **项目文件夹**（yy）：格式为 `分类名序号_中文描述`（如 `I2C01_软件i2c示例`）
- **序号**：分类内从01开始自增
- **目录结构**：`Examples/xx/yy/`

---

## 📁 目录结构

```
Examples/
├── ADC/                          # ADC相关案例
│   └── ADC01_SingleChannelVoltage/  # 单通道电压采集示例
├── Basic/                        # 基础功能相关案例
│   ├── Basic01_ActiveBuzzer/        # 有源蜂鸣器GPIO模式控制示例
│   ├── Basic02_PWM_PassiveBuzzer/   # 无源蜂鸣器PWM模式控制示例
│   ├── Basic03_blink/               # LED交替闪烁示例
│   ├── Basic04_ButtonControlLED/    # 按键控制LED示例
│   └── Basic05_PhotoresistorControlBuzzer/  # 光敏电阻控制蜂鸣器示例
├── ClockManager/                 # 时钟管理相关案例
│   └── ClockManager01_AdaptiveFrequency/  # 时钟管理自适应频率调整
├── Delay/                        # 延时相关案例
│   ├── Delay01_blink/            # 延时功能测试
│   └── Delay02_LED_Freq_Sync/   # LED频率同步测试
├── EXTI/                         # EXTI外部中断相关案例
│   ├── EXTI01_Infrared_Counter/  # 对射式红外传感器计次示例
│   └── EXTI02_RotaryEncoder_Counter/  # 旋转编码器计次示例
├── I2C/                          # I2C通信相关案例
│   ├── I2C01_DS3231_SoftwareI2C/  # DS3231软件I2C示例
│   └── I2C02_DS3231_HardwareI2C/  # DS3231硬件I2C示例
├── MAX31856/                     # MAX31856热电偶传感器相关案例
│   ├── MAX31856_01_ReadTemperature/  # MAX31856温度读取示例（完整版）
│   └── MAX31856_02_Simple/       # MAX31856温度读取示例（简化版）
├── OLED/                         # OLED显示相关案例
│   └── OLED01_helloword/         # OLED显示测试
├── PWM/                          # PWM相关案例
│   └── PWM01_pwm_Buzzer/         # PWM模式Buzzer控制示例
├── RTC/                          # RTC实时时钟相关案例
│   ├── RTC01_DS3231_Reading_writing/  # DS3231读写时间示例
│   └── RTC02_DS3231_Alarm/       # DS3231闹钟功能示例
├── Timer/                        # 定时器相关案例
│   ├── Timer01_SoftwareTimer/     # 软件定时器示例
│   ├── Timer02_InternalClockCounting/  # 内部时钟计数示例
│   ├── Timer03_DS3231ExternalSquareWave/  # DS3231外部方波示例
│   └── Timer04_DS3231ExternalClock32kHz/  # DS3231外部32kHz时钟示例
├── UART/                         # 串口通信相关案例
│   └── UART01_Error_Log_Output/   # 错误日志输出示例
└── README.md                     # 本文档
```

---

## 📋 案例列表

### ADC相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `ADC01_SingleChannelVoltage` | 单通道电压采集示例 | ✅ 已调试完成 |

### Basic基础功能相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `Basic01_ActiveBuzzer` | 有源蜂鸣器GPIO模式控制示例 | ✅ 已调试完成 |
| 02 | `Basic02_PWM_PassiveBuzzer` | 无源蜂鸣器PWM模式控制示例 | ✅ 已调试完成 |
| 03 | `Basic03_blink` | LED交替闪烁示例 | ✅ 已调试完成 |
| 04 | `Basic04_ButtonControlLED` | 按键控制LED示例 | ✅ 已调试完成 |
| 05 | `Basic05_PhotoresistorControlBuzzer` | 光敏电阻控制蜂鸣器示例 | ✅ 已调试完成 |

### ClockManager时钟管理相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `ClockManager01_AdaptiveFrequency` | 时钟管理自适应频率调整 | ✅ 已调试完成 |

### Delay延时相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `Delay01_blink` | 延时功能测试 | ✅ 已调试完成 |
| 02 | `Delay02_LED_Freq_Sync` | LED频率同步测试 | ✅ 已调试完成 |

### EXTI外部中断相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `EXTI01_Infrared_Counter` | 对射式红外传感器计次示例 | ✅ 已调试完成 |
| 02 | `EXTI02_RotaryEncoder_Counter` | 旋转编码器计次示例 | ✅ 已调试完成 |

### I2C通信相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `I2C01_DS3231_SoftwareI2C` | DS3231软件I2C示例 | ✅ 已调试完成 |
| 02 | `I2C02_DS3231_HardwareI2C` | DS3231硬件I2C示例 | ✅ 已调试完成 |

### MAX31856热电偶传感器相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `MAX31856_01_ReadTemperature` | MAX31856温度读取示例（完整版） | ✅ 已调试完成 |
| 02 | `MAX31856_02_Simple` | MAX31856温度读取示例（简化版） | ✅ 已调试完成 |

### OLED显示相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `OLED01_helloword` | OLED显示测试 | ✅ 已调试完成 |

### PWM相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `PWM01_pwm_Buzzer` | PWM模式Buzzer控制示例 | ✅ 已调试完成 |

### RTC实时时钟相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `RTC01_DS3231_Reading_writing` | DS3231读写时间示例 | ✅ 已调试完成 |
| 02 | `RTC02_DS3231_Alarm` | DS3231闹钟功能示例 | ✅ 已调试完成 |

### Timer定时器相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `Timer01_SoftwareTimer` | 软件定时器示例 | ✅ 已调试完成 |
| 02 | `Timer02_InternalClockCounting` | 内部时钟计数示例 | ✅ 已调试完成 |
| 03 | `Timer03_DS3231ExternalSquareWave` | DS3231外部方波示例 | ✅ 已调试完成 |
| 04 | `Timer04_DS3231ExternalClock32kHz` | DS3231外部32kHz时钟示例 | ✅ 已调试完成 |

### UART串口通信相关案例

| 序号 | 目录名 | 说明 | 状态 |
|------|--------|------|------|
| 01 | `UART01_Error_Log_Output` | 错误日志输出示例 | ✅ 已调试完成 |

---

## ⚠️ 重要说明：每个案例都是独立工程

### 规范说明

**每个案例都是独立的Keil工程，可以直接编译和运行，无需复制到主工程。**

### 独立工程特点

1. **独立的工程文件**：
   - 每个案例目录下都有 `Examples.uvprojx` 工程文件
   - 输出文件名：`ExampleN`（N为案例编号）
   - 包含路径和模块配置都已独立配置

2. **独立的配置文件**：
   - `board.h`：硬件配置文件
   - `config.h`：模块开关配置（只启用本案例需要的模块）

3. **独立的源文件**：
   - `main_example.c`：主程序入口（在独立工程中作为主文件）
   - 只包含本案例需要的模块源文件

### 使用方法

1. **打开案例工程**：
   - 双击 `Examples/分类名/案例名/Examples.uvprojx` 打开Keil工程

2. **编译运行**：
   - 直接编译（F7）
   - 下载到开发板（F8）
   - 无需任何文件复制操作

3. **修改代码**：
   - 直接修改案例目录下的 `main_example.c`
   - 直接修改案例目录下的 `board.h`
   - 修改后重新编译即可

---

## 🚀 通用操作流程

### 步骤1：硬件准备

- STM32F103C8T6开发板（或兼容板）
- USB数据线（用于下载程序）
- 根据案例要求连接硬件（LED、按键、传感器等）

### 步骤2：打开案例工程

- 双击 `Examples/分类名/案例名/Examples.uvprojx` 打开案例独立工程

### 步骤3：检查/修改硬件配置

- 检查案例目录下的 `board.h` 配置是否正确
- 如果硬件引脚不同，直接修改案例目录下的 `board.h`

### 步骤4：编译项目

- 点击工具栏的 **编译按钮**（或按 `F7`）
- 等待编译完成，应该显示：`0 Error(s), 0 Warning(s)`

### 步骤5：下载到开发板

- 点击工具栏的 **下载按钮**（或按 `F8`）
- 等待下载完成，程序会自动运行

### 步骤6：观察效果

- 根据案例说明，观察预期效果
- 检查硬件是否按预期工作

---

## ⚠️ 常见问题排查

### 问题1：编译错误

**现象**：编译时提示找不到头文件

**解决**：
1. 检查Keil工程的包含路径（Include Paths）
2. 确保包含：`..\..\..\Start`, `..\..\..\Library`, `..\..\..\Core`, `.`, `..\..\..\System`, `..\..\..\Debug`, `..\..\..\Common`, `..\..\..\Drivers\basic`, `..\..\..\Drivers\i2c`, `..\..\..\Drivers\spi`, `..\..\..\Drivers\display`, `..\..\..\Drivers\sensors`, `..\..\..\Drivers\uart`, `..\..\..\Drivers\dma`, `..\..\..\Drivers\peripheral`, `..\..\..\Drivers\timer`

### 问题2：硬件不工作

**现象**：程序下载后硬件不工作

**排查步骤**：
1. 检查硬件连接是否正确
2. 检查案例目录下的 `board.h` 配置是否正确
3. 检查引脚配置和有效电平
4. 用万用表测量引脚电压
5. 参考案例的 `README.md` 排查

### 问题3：程序运行异常

**现象**：程序运行但不按预期工作

**排查**：
1. 检查代码逻辑
2. 检查初始化顺序
3. 检查中断配置
4. 使用调试器单步调试

---

## 📝 示例文件规范

### 每个示例应包含

1. **工程文件** (`Examples.uvprojx`)
   - Keil工程文件，可直接打开编译
   - 输出文件名：`ExampleN`（N为案例编号）

2. **主程序** (`main_example.c`)
   - 完整的、可编译的主程序代码
   - 在独立工程中作为主文件使用
   - 包含详细注释

3. **硬件配置** (`board.h`)
   - 硬件配置文件
   - 只包含本案例需要的配置

4. **模块配置** (`config.h`)
   - 模块开关配置
   - 只启用本案例需要的模块

5. **README文档** (`README.md`)
   - 功能说明
   - 硬件要求
   - 使用方法（打开独立工程编译运行）
   - 代码说明
   - 扩展练习
   - **功能限制说明**（如果使用了空函数，必须说明）
   - **标准初始化流程**（新项目必须遵循：System_Init → UART → Debug → Log → ErrorHandler → 其他模块）

### ⚠️ 重要规范：空函数检查

**创建案例时必须检查**：案例中使用的模块函数是否为**占位空函数**。

详细规范请参考：[PROJECT_KEYWORDS.md](../PROJECT_KEYWORDS.md) 中的"案例创建规范"章节。

---

## 🔮 未来计划

根据项目需求，逐步添加以下类型的示例：

- **基础功能**：LED控制、GPIO操作等（部分已完成）
- **驱动模块**：UART、I2C、SPI等通信接口（部分已完成）
- **系统服务**：时钟管理、看门狗等（部分已完成）
- **传感器应用**：温度传感器、光敏传感器等（部分已完成）
- **综合应用**：多模块组合使用示例

---

**最后更新**：2024-12-19
