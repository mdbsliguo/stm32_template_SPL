# Basic06 - printf灏佽妯″潡浣跨敤绀轰緥

## 馃搵 妗堜緥鐩殑

- **鏍稿績鐩爣**锛氭紨绀簆rintf灏佽妯″潡鐨勪娇鐢ㄦ柟娉曪紝鍖呮嫭Printf_UART鍜孭rintf_OLED鍑芥暟锛屾彁渚涗究鎹风殑鏍煎紡鍖栬緭鍑哄姛鑳?- **瀛︿範閲嶇偣**锛?  - 鐞嗚Вprintf灏佽妯″潡鐨勫熀鏈娇鐢ㄦ柟娉?  - 鎺屾彙Printf_UART1/2/3鍑芥暟鐨勪娇鐢紙杈撳嚭鍒颁覆鍙ｏ級
  - 鎺屾彙Printf_OLED1/2/3/4鍑芥暟鐨勪娇鐢紙杈撳嚭鍒癘LED鎸囧畾琛岋級
  - 瀛︿範鏍煎紡鍖栧瓧绗︿覆鐨勪娇鐢紙鏁存暟銆佹诞鐐规暟銆佸瓧绗︿覆绛夛級
  - 浜嗚ВOLED杈撳嚭鑷姩鎴柇鏈哄埗锛?6瀛楃闄愬埗锛?- **搴旂敤鍦烘櫙**锛氶€傜敤浜庨渶瑕佷究鎹锋牸寮忓寲杈撳嚭鐨勫簲鐢紝濡傝皟璇曚俊鎭緭鍑恒€佺姸鎬佹樉绀恒€佹暟鎹洃鎺х瓑

---

## 馃敡 纭欢瑕佹眰

### 蹇呴渶澶栬

- **USART1**锛?  - TX锛歚PA9
  - RX锛歚PA10
  - 娉㈢壒鐜囷細115200
  - 鏁版嵁鏍煎紡锛歚8N1锛?浣嶆暟鎹綅锛屾棤鏍￠獙锛?浣嶅仠姝綅锛?
- **OLED鏄剧ず灞忥紙SSD1306锛孖2C鎺ュ彛锛?*锛?  - SCL杩炴帴鍒癭PB8
  - SDA杩炴帴鍒癭PB9
  - 鐢ㄤ簬鏄剧ず鏍煎紡鍖栬緭鍑哄唴瀹?
### 纭欢杩炴帴

| STM32F103C8T6 | 澶栬/妯″潡 | 璇存槑 |
|--------------|----------|------|
| PA9 | USB杞覆鍙ｆā鍧?TX | UART鍙戦€佸紩鑴?|
| PA10 | USB杞覆鍙ｆā鍧?RX | UART鎺ユ敹寮曡剼 |
| PB8 | OLED SCL | I2C鏃堕挓绾?|
| PB9 | OLED SDA | I2C鏁版嵁绾?|
| 3.3V | USB杞覆鍙ｆā鍧?VCC | 鐢垫簮锛堝鏋滄ā鍧楅渶瑕侊級 |
| 3.3V | OLED VCC | 鐢垫簮 |
| GND | USB杞覆鍙ｆā鍧?GND | 鍦扮嚎 |
| GND | OLED GND | 鍦扮嚎 |

**鈿狅笍 閲嶈鎻愮ず**锛?- 妗堜緥鏄嫭绔嬪伐绋嬶紝纭欢閰嶇疆鍦ㄦ渚嬬洰褰曚笅鐨?oard.h 涓?- 濡傛灉纭欢寮曡剼涓嶅悓锛岀洿鎺ヤ慨鏀?Examples/Basic/Basic06_Printf/board.h 涓殑閰嶇疆鍗冲彲
- 闇€瑕乁SB杞覆鍙ｆā鍧楋紙濡侰H340銆丆P2102绛夛級杩炴帴鍒扮數鑴戯紝閫氳繃涓插彛鍔╂墜鏌ョ湅杈撳嚭
- OLED鏄剧ず灞忕敤浜庢樉绀烘牸寮忓寲杈撳嚭鍐呭锛屾瘡琛屾渶澶?6涓瓧绗︼紙瓒呭嚭閮ㄥ垎鑷姩鎴柇锛?
---

## 馃摝 妯″潡渚濊禆

鏈渚嬩娇鐢ㄤ互涓嬫ā鍧楋細

- uart锛歎ART椹卞姩妯″潡锛堜覆鍙ｉ€氫俊锛宲rintf杈撳嚭鍒颁覆鍙ｏ級
- oled_ssd1306锛歄LED鏄剧ず椹卞姩妯″潡锛坧rintf杈撳嚭鍒癘LED锛?- i2c_sw锛氳蒋浠禝2C椹卞姩妯″潡锛圤LED浣跨敤锛?- printf_wrapper锛歱rintf灏佽妯″潡锛堟牳蹇冨姛鑳斤紝鏍煎紡鍖栬緭鍑猴級
- debug锛欴ebug妯″潡锛坧rintf閲嶅畾鍚戯紝鏂伴」鐩繀椤伙級
- log锛氭棩蹇楁ā鍧楋紙鍒嗙骇鏃ュ織绯荤粺锛屾柊椤圭洰蹇呴』锛?- error_handler锛氶敊璇鐞嗘ā鍧楋紙缁熶竴閿欒澶勭悊锛屾柊椤圭洰蹇呴』锛?- gpio锛欸PIO椹卞姩妯″潡锛圲ART銆両2C渚濊禆锛?- delay锛氬欢鏃舵ā鍧楋紙鐢ㄤ簬瀹炵幇鏃堕棿闂撮殧锛?- system_init锛氱郴缁熷垵濮嬪寲妯″潡

---

## 馃攧 瀹炵幇娴佺▼

### 鏁翠綋閫昏緫

鏈渚嬮€氳繃澶氫釜绀轰緥闃舵锛屽叏闈㈡紨绀簆rintf灏佽妯″潡鐨勫悇绉嶅姛鑳斤細

1. **绀轰緥1锛歎ART杈撳嚭婕旂ず**
   - 婕旂ずPrintf_UART1鍑芥暟鐨勪娇鐢?   - 灞曠ず鍚勭鏍煎紡鍖栬緭鍑猴紙鏁存暟銆佹诞鐐规暟銆佸瓧绗︿覆銆佸崄鍏繘鍒剁瓑锛?   - 涓插彛杈撳嚭璇︾粏鏃ュ織淇℃伅

2. **绀轰緥2锛歄LED杈撳嚭婕旂ず**
   - 婕旂ずPrintf_OLED1/2/3/4鍑芥暟鐨勪娇鐢?   - 灞曠ずOLED姣忚鏍煎紡鍖栬緭鍑?   - 婕旂ず鑷姩鎴柇鏈哄埗锛堣秴鍑?6瀛楃鑷姩鎴柇锛?
3. **绀轰緥3锛氬姩鎬佹洿鏂版紨绀?*
   - 婕旂ず瀹炴椂鏁版嵁鏇存柊
   - 灞曠ずUART鍜孫LED鍚屾椂杈撳嚭
   - 灞曠ず寰幆鏇存柊鍜屾牸寮忓寲杈撳嚭

### 鍏抽敭鏂规硶

- **鏍囧噯鍒濆鍖栨祦绋?*锛氭寜鐓ystem_Init 鈫?UART 鈫?Debug 鈫?Log 鈫?鍏朵粬妯″潡鐨勯『搴忓垵濮嬪寲
- **printf鏍煎紡鍖栬緭鍑?*锛氫娇鐢ㄦ爣鍑唒rintf鏍煎紡鍖栬娉曪紝鏀寔%d銆?f銆?s銆?X绛夋牸寮?- **鑷姩鎴柇鏈哄埗**锛歄LED杈撳嚭鏃讹紝瀛楃涓茶秴杩?6瀛楃鑷姩鎴柇锛岀‘淇濇樉绀烘甯?- **澶氶€氶亾杈撳嚭**锛氬彲浠ュ悓鏃惰緭鍑哄埌澶氫釜UART瀹炰緥鍜孫LED澶氳

### 宸ヤ綔娴佺▼绀烘剰

`
绯荤粺鍒濆鍖栵紙System_Init锛?    鈫?UART鍒濆鍖栵紙UART_Init锛?    鈫?Debug妯″潡鍒濆鍖栵紙Debug_Init锛孶ART妯″紡锛?    鈫?Log妯″潡鍒濆鍖栵紙Log_Init锛?    鈫?ErrorHandler妯″潡鑷姩鍒濆鍖?    鈫?杞欢I2C鍒濆鍖栵紙I2C_SW_Init锛?    鈫?OLED鍒濆鍖栵紙OLED_Init锛?    鈫?绀轰緥1锛歎ART杈撳嚭婕旂ず锛圥rintf_UART1锛?    鈫?绀轰緥2锛歄LED杈撳嚭婕旂ず锛圥rintf_OLED1/2/3/4锛?    鈫?绀轰緥3锛氬姩鎬佹洿鏂版紨绀猴紙寰幆鏇存柊锛?    鈫?涓诲惊鐜紙鎸佺画鏇存柊锛?`

---

## 馃摎 鍏抽敭鍑芥暟璇存槑

### printf灏佽妯″潡鐩稿叧鍑芥暟

- **Printf_UART1()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌UART1
  - 鍦ㄦ湰妗堜緥涓敤浜庤緭鍑鸿缁嗘棩蹇椾俊鎭埌涓插彛
  - 鏀寔鏍囧噯printf鏍煎紡鍖栬娉曪紙%d銆?f銆?s銆?X绛夛級
  - 杈撳嚭鍐呭閫氳繃涓插彛鍔╂墜鏌ョ湅

- **Printf_UART2()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌UART2
  - 鍔熻兘涓嶱rintf_UART1鐩稿悓锛屼絾杈撳嚭鍒癠ART2
  - 鏈渚嬫湭浣跨敤锛屼絾鍙互鐢ㄤ簬澶氫覆鍙ｈ緭鍑哄満鏅?
- **Printf_UART3()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌UART3
  - 鍔熻兘涓嶱rintf_UART1鐩稿悓锛屼絾杈撳嚭鍒癠ART3
  - 鏈渚嬫湭浣跨敤锛屼絾鍙互鐢ㄤ簬澶氫覆鍙ｈ緭鍑哄満鏅?
- **Printf_OLED1()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌OLED绗?琛?  - 鍦ㄦ湰妗堜緥涓敤浜庢樉绀鸿鏁板櫒銆佹俯搴︾瓑鍏抽敭淇℃伅
  - 瀛楃涓茶嚜鍔ㄦ埅鏂埌16瀛楃锛圤LED姣忚闄愬埗锛?  - 浠庣1鍒楀紑濮嬫樉绀?
- **Printf_OLED2()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌OLED绗?琛?  - 鍔熻兘涓嶱rintf_OLED1鐩稿悓锛屼絾鏄剧ず鍦ㄧ2琛?  - 鍦ㄦ湰妗堜緥涓敤浜庢樉绀烘俯搴︿俊鎭?
- **Printf_OLED3()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌OLED绗?琛?  - 鍔熻兘涓嶱rintf_OLED1鐩稿悓锛屼絾鏄剧ず鍦ㄧ3琛?  - 鍦ㄦ湰妗堜緥涓敤浜庢樉绀烘箍搴︿俊鎭?
- **Printf_OLED4()**锛氳緭鍑烘牸寮忓寲瀛楃涓插埌OLED绗?琛?  - 鍔熻兘涓嶱rintf_OLED1鐩稿悓锛屼絾鏄剧ず鍦ㄧ4琛?  - 鍦ㄦ湰妗堜緥涓敤浜庢樉绀虹數鍘嬩俊鎭?
**璇︾粏鍑芥暟瀹炵幇鍜岃皟鐢ㄧず渚嬭鍙傝€?*锛歚main_example.c 涓殑浠ｇ爜

---

## 鈿狅笍 娉ㄦ剰浜嬮」涓庨噸鐐?
### 鈿狅笍 閲嶈鎻愮ず

1. **OLED杈撳嚭闄愬埗**锛?   - OLED姣忚鏈€澶氭樉绀?6涓瓧绗?   - 瓒呭嚭16瀛楃鐨勫瓧绗︿覆浼氳嚜鍔ㄦ埅鏂?   - 寤鸿鏍煎紡鍖栧瓧绗︿覆鏃舵帶鍒堕暱搴︼紝閬垮厤閲嶈淇℃伅琚埅鏂?
2. **UART杈撳嚭缂栫爜**锛?   - 涓插彛杈撳嚭鏀寔涓枃锛圙B2312缂栫爜锛?   - 寤鸿涓插彛鍔╂墜閰嶇疆涓篏B2312缂栫爜
   - OLED杈撳嚭浠呮敮鎸丄SCII瀛楃锛堜笉鏀寔涓枃锛?
3. **鍒濆鍖栭『搴?*锛?   - 蹇呴』鎸夌収System_Init 鈫?UART 鈫?Debug 鈫?Log 鈫?鍏朵粬妯″潡鐨勯『搴忓垵濮嬪寲
   - UART鍜孫LED蹇呴』鍒濆鍖栧悗鎵嶈兘浣跨敤printf灏佽鍑芥暟
   - 濡傛灉妯″潡鏈垵濮嬪寲锛宲rintf鍑芥暟浼氶潤榛樺け璐ワ紙涓嶈緭鍑猴級

4. **鏍煎紡鍖栧瓧绗︿覆**锛?   - 浣跨敤鏍囧噯printf鏍煎紡鍖栬娉?   - 鏀寔%d锛堟暣鏁帮級銆?f锛堟诞鐐规暟锛夈€?s锛堝瓧绗︿覆锛夈€?X锛堝崄鍏繘鍒讹級绛夋牸寮?   - OLED杈撳嚭鏃舵敞鎰忔帶鍒跺瓧绗︿覆闀垮害

5. **鎬ц兘鑰冭檻**锛?   - printf鏍煎紡鍖栬緭鍑烘槸闃诲寮忕殑锛屼細鍗犵敤CPU鏃堕棿
   - 瀹炴椂鎬ц姹傞珮鐨勫満鏅厧鐢?   - 寤鸿鍦ㄩ潪鍏抽敭璺緞浣跨敤

### 馃攽 鍏抽敭鐐?
1. **渚挎嵎鎬?*锛歱rintf灏佽鍑芥暟鎻愪緵浜嗕究鎹风殑杈撳嚭鏂瑰紡锛屾棤闇€鎵嬪姩鏍煎紡鍖栧瓧绗︿覆
2. **澶氶€氶亾鏀寔**锛氭敮鎸佸涓猆ART瀹炰緥鍜孫LED澶氳鍚屾椂杈撳嚭
3. **鑷姩鎴柇**锛歄LED杈撳嚭鑷姩鎴柇鏈哄埗锛岀‘淇濇樉绀烘甯?4. **閿欒澶勭悊**锛氬嚱鏁板唴閮ㄤ細妫€鏌ユā鍧楀垵濮嬪寲鐘舵€侊紝鏈垵濮嬪寲鏃堕潤榛樺け璐?5. **鏍煎紡鍖栫伒娲?*锛氭敮鎸佹爣鍑唒rintf鏍煎紡鍖栬娉曪紝浣跨敤鐏垫椿

### 馃挕 璋冭瘯鎶€宸?
1. **涓插彛杈撳嚭璋冭瘯**锛?   - 浣跨敤Printf_UART1杈撳嚭璇︾粏璋冭瘯淇℃伅
   - 鍙互閫氳繃涓插彛鍔╂墜瀹炴椂鏌ョ湅杈撳嚭
   - 鏀寔涓枃杈撳嚭锛屼究浜庤皟璇?
2. **OLED鏄剧ず璋冭瘯**锛?   - 浣跨敤Printf_OLED1/2/3/4鏄剧ず鍏抽敭鐘舵€?   - 娉ㄦ剰瀛楃涓查暱搴︼紝閬垮厤琚埅鏂?   - 鍙互鍚屾椂鏄剧ず澶氳淇℃伅

3. **鏍煎紡鍖栧瓧绗︿覆璋冭瘯**锛?   - 濡傛灉杈撳嚭涓嶆纭紝妫€鏌ユ牸寮忓寲瀛楃涓叉槸鍚︽纭?   - 妫€鏌ュ弬鏁扮被鍨嬫槸鍚﹀尮閰嶏紙濡?d瀵瑰簲鏁存暟锛?f瀵瑰簲娴偣鏁帮級
   - 妫€鏌ュ弬鏁版暟閲忔槸鍚﹀尮閰?
---

## 馃攳 鎵╁睍缁冧範

1. **澶歎ART杈撳嚭**锛?   - 灏濊瘯浣跨敤Printf_UART2鍜孭rintf_UART3杈撳嚭鍒板叾浠栦覆鍙?   - 瀹炵幇涓嶅悓涓插彛杈撳嚭涓嶅悓鍐呭

2. **鏍煎紡鍖栧瓧绗︿覆缁冧範**锛?   - 灏濊瘯浣跨敤涓嶅悓鐨勬牸寮忓寲閫夐」锛?d銆?f銆?s銆?X銆?o绛夛級
   - 灏濊瘯鎺у埗杈撳嚭绮惧害锛堝%.2f淇濈暀涓や綅灏忔暟锛?
3. **OLED鏄剧ず浼樺寲**锛?   - 璁捐鏇寸編瑙傜殑鏄剧ず鏍煎紡
   - 瀹炵幇澶氳淇℃伅鐨勫崗璋冩樉绀?   - 灏濊瘯瀹炵幇婊氬姩鏄剧ず鏁堟灉

4. **閿欒澶勭悊澧炲己**锛?   - 妫€鏌rintf鍑芥暟鐨勮繑鍥炲€硷紙褰撳墠涓簐oid锛屽彲鎵╁睍涓鸿繑鍥為敊璇爜锛?   - 瀹炵幇閿欒閲嶈瘯鏈哄埗

5. **鎬ц兘浼樺寲**锛?   - 瀹炵幇闈為樆濉炶緭鍑猴紙浣跨敤缂撳啿鍖猴級
   - 瀹炵幇杈撳嚭闃熷垪鏈哄埗

6. **鍔熻兘鎵╁睍**锛?   - 瀹炵幇鍚屾椂杈撳嚭鍒癠ART鍜孫LED鐨勫嚱鏁?   - 瀹炵幇鏉′欢杈撳嚭锛堟牴鎹厤缃€夋嫨杈撳嚭鐩爣锛?
---

## 馃摎 鐩稿叧妯″潡

- **printf灏佽妯″潡**锛歚Debug/printf_wrapper.c/h - printf灏佽瀹炵幇
- **UART椹卞姩妯″潡**锛歚Drivers/uart/uart.c/h - UART閫氫俊椹卞姩
- **OLED鏄剧ず椹卞姩妯″潡**锛歚Drivers/display/oled_ssd1306.c/h - OLED鏄剧ず椹卞姩
- **杞欢I2C椹卞姩妯″潡**锛歚Drivers/i2c/i2c_sw.c/h - 杞欢I2C椹卞姩
- **Debug妯″潡**锛歚Debug/debug.c/h - 璋冭瘯杈撳嚭妯″潡
- **Log妯″潡**锛歚Debug/log.c/h - 鍒嗙骇鏃ュ織绯荤粺
- **閿欒澶勭悊妯″潡**锛歚Common/error_handler.c/h - 缁熶竴閿欒澶勭悊

---

**鏈€鍚庢洿鏂?*锛?024-01-01
